<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Calendário</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="light">
  <section class="full-width" *ngIf="selectedCalendarPlanId">
    <ion-list no-padding>
      <ion-item>
        <ion-icon name="search" slot="start"></ion-icon>
        <ion-label>Filtro: </ion-label>
        <ion-select placeholder="Selecione..." [(ngModel)]="selectedCalendarPlanId" (ionChange)="updateSelectedCalendarPlan()">
          <ion-select-option *ngFor="let item of calendarPlans" [value]="item.id">{{item.name}}</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>
  </section>
  <section class="message-container" *ngIf="!selectedCalendarPlanId">
    <ion-item color="success-light">
      <ion-icon name="alert" slot="start"></ion-icon>
      <ion-label>
        <h2>Você ainda não criou um plano ou não tem permissão em um plano já criado.</h2>
        <p>Os planos contém períodos de datas e eventos marcados no calendário.</p>
      </ion-label>
      <ion-button fill="outline" slot="end" [routerLink]="['/calendarPlan/list']">Planos</ion-button>
    </ion-item>
  </section>

  <ion-card *ngIf="false">
    <ion-card-content>
      <section padding-bottom>
        <ion-grid>
          <ion-row>
            <ion-col sizeXs="6" sizeLg="4">
              <ion-button size="small" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="activeDayIsOpen = false">
                <ion-icon slot="icon-only" name="arrow-round-back"></ion-icon>
              </ion-button>
              <ion-button color="success" size="small" mwlCalendarToday [(viewDate)]="viewDate">Hoje</ion-button>
              <ion-button size="small" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="activeDayIsOpen = false">
                <ion-icon slot="icon-only" name="arrow-round-forward"></ion-icon>
              </ion-button>
            </ion-col>
            <ion-col text-center sizeXs="6" sizeLg="4"><h2 class="current-date">{{ viewDate | date:'dd MMMM yyyy' | uppercase }}</h2></ion-col>
            <ion-col text-right sizeXs="12" sizeLg="4">
              <!--
              <ion-button color="success" size="small" (click)="view = CalendarView.Month" [class.active]="view === CalendarView.Month">Mês</ion-button>
              <ion-button size="small" (click)="view = CalendarView.Week"  [class.active]="view === CalendarView.Week">Semana</ion-button>
              -->
            </ion-col>
          </ion-row>
        </ion-grid>
      </section>

      <section [ngSwitch]="view">
        <mwl-calendar-month-view
          *ngSwitchCase="CalendarView.Month"
          [viewDate]="viewDate"
          [events]="events"
          [refresh]="refresh"
          [activeDayIsOpen]="activeDayIsOpen"
          (dayClicked)="dayClicked($event.day)"
          (eventClicked)="handleEvent('Clicked', $event.event)"
          (eventTimesChanged)="eventTimesChanged($event)"
          (beforeViewRender)="beforeMonthViewRender($event)"
          [locale]="locale"
          [cellTemplate]="customCellTemplate">
        </mwl-calendar-month-view>
        <mwl-calendar-week-view
          *ngSwitchCase="CalendarView.Week"
          [viewDate]="viewDate"
          [events]="events"
          [refresh]="refresh"
          (eventClicked)="handleEvent('Clicked', $event.event)"
          (eventTimesChanged)="eventTimesChanged($event)"
          [locale]="locale">
        </mwl-calendar-week-view>

        <div padding-top>
          <ion-text padding-right *ngFor="let item of calendarPeriodLegends"><span class="dot" [innerHTML]="item.symbol"></span> {{item.name}}</ion-text>
        </div>
      </section>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row padding-top>
          <ion-col class="text-center">
            <h1>
              {{ HOZ_CAL[3].year }}
            </h1>
          </ion-col>
        </ion-row>
        <ion-row padding>
          <!-- <ion-col *ngIf="false" class="text-center">
            <ion-button expand="full" fill="outline" (click)="setCalendarDates(HOZ_CAL[0].date)">
              <h2>
                <strong>{{ HOZ_CAL[0].day }}/{{ HOZ_CAL[0].month }}</strong>
                ({{ HOZ_CAL[0].weekDayShort }})
              </h2>
            </ion-button>
          </ion-col>
          <ion-col *ngIf="false" class="text-center">
            <ion-button expand="full" fill="outline" (click)="setCalendarDates(HOZ_CAL[1].date)">
              <h2>
                <strong>{{ HOZ_CAL[1].day }}/{{ HOZ_CAL[1].month }}</strong>
                ({{ HOZ_CAL[1].weekDayShort }})
              </h2>
            </ion-button>
          </ion-col> -->
          <ion-col *ngIf="true" class="text-center">
            <ion-button expand="full" color="tertiary" fill="outline" (click)="setCalendarDates(HOZ_CAL[2].date)">
              <h2 class="font-smaller">
                {{ HOZ_CAL[2].weekDayShort }}
                <strong class="font-bigger">{{ HOZ_CAL[2].day }}</strong>
              </h2>
            </ion-button>
          </ion-col>

          <!-- DIA ATUAL -->
          <ion-col *ngIf="true" class="text-center" size="6">
            <ion-button expand="full" color="tertiary" (click)="setCalendarDates(HOZ_CAL[3].date)">
              <h2>
                {{ HOZ_CAL[3].weekDayFull }},
                <strong class="font-bigger">{{ HOZ_CAL[3].day }}</strong>
                de {{ HOZ_CAL[3].monthNameFull }}
              </h2>
            </ion-button>
          </ion-col>
          <!-- DIA ATUAL -->

          <ion-col *ngIf="true" class="text-center">
            <ion-button expand="full" color="tertiary" fill="outline" (click)="setCalendarDates(HOZ_CAL[4].date)">
              <h2 class="font-smaller">
                {{ HOZ_CAL[4].weekDayShort }}
                <strong class="font-bigger">{{ HOZ_CAL[4].day }}</strong>
              </h2>
            </ion-button>
          </ion-col>
          <!-- <ion-col *ngIf="false" class="text-center">
            <ion-button expand="full" fill="outline" (click)="setCalendarDates(HOZ_CAL[5].date)">
              <h2>
                <strong>{{ HOZ_CAL[5].day }}/{{ HOZ_CAL[5].month }}</strong>
                ({{ HOZ_CAL[5].weekDayShort }})
              </h2>
            </ion-button>
          </ion-col>
          <ion-col *ngIf="false" class="text-center">
            <ion-button expand="full" fill="outline" (click)="setCalendarDates(HOZ_CAL[6].date)">
              <h2>
                <strong>{{ HOZ_CAL[6].day }}/{{ HOZ_CAL[6].month }}</strong>
                ({{ HOZ_CAL[6].weekDayShort }})
              </h2>
            </ion-button>
          </ion-col> -->
        </ion-row>
        <ion-row padding>
          <strong>Primeira Leitura (At 4,1-12)</strong>
          Leitura dos Atos dos Apóstolos.

          Naqueles dias, depois que o paralítico fora curado, 1Pedro e João ainda estavam falando ao povo, quando chegaram os sacerdotes, o chefe da guarda do Templo e os saduceus. 2Estavam irritados porque os apóstolos ensinavam o povo e anunciavam a ressurreição dos mortos na pessoa de Jesus.
          
          3Eles prenderam Pedro e João e os colocaram na prisão até o dia seguinte, porque já estava anoitecendo. 4Todavia, muitos daqueles que tinham ouvido a pregação acreditaram. E o número dos homens chegou a uns cinco mil.
          
          5No dia seguinte, reuniram-se em Jerusalém os chefes, os anciãos e os mestres da Lei. 6Estavam presentes o Sumo Sacerdote Anás, e também Caifás, João, Alexandre, e todos os que pertenciam às famílias dos sumos sacerdotes. 7Fizeram Pedro e João comparecer diante deles e os interrogavam: “Com que poder ou em nome de quem vós fizestes isso?” 8Então, Pedro, cheio do Espírito Santo, disse-lhes: “Chefes do povo e anciãos: 9hoje estamos sendo interrogados por termos feito o bem a um enfermo e pelo modo como foi curado. 10Ficai, pois, sabendo todos vós e todo o povo de Israel: é pelo nome de Jesus Cristo, de Nazaré, — aquele que vós crucificastes e que Deus ressuscitou dos mortos — que este homem está curado, diante de vós. 11Jesus é a pedra, que vós, os construtores, desprezastes, e que se tornou a pedra angular.
          
          12Em nenhum outro há salvação, pois não existe debaixo do céu outro nome dado aos homens pelo qual possamos ser salvos”.
          
          - Palavra do Senhor.
          
          - Graças a Deus.
        </ion-row>
        <ion-row padding>
          <strong>Salmo (Sl 117,1-27a)</strong>
          — A pedra que os pedreiros rejeitaram, tornou-se agora a pedra angular.

          — A pedra que os pedreiros rejeitaram, tornou-se agora a pedra angular.
          
          — Dai graças ao Senhor, porque ele é bom! “Eterna é a sua misericórdia!” A casa de Israel agora o diga: “Eterna é a sua misericórdia!” Os que temem o Senhor agora o digam: “Eterna é a sua misericórdia!”
          
          — “A pedra que os pedreiros rejeitaram, tornou-se agora a pedra angular. Pelo Senhor é que foi feito tudo isso: Que maravilhas ele fez a nossos olhos! Este é o dia que o Senhor fez para nós, alegremo-nos e nele exultemos!
          
          — Ó Senhor, dai-nos a vossa salvação, ó Senhor, dai-nos também prosperidade!” Bendito seja, em nome do Senhor, aquele que em seus átrios vai entrando! Desta casa do Senhor vos bendizemos. Que o Senhor e nosso Deus nos ilumine!
        </ion-row>
        <ion-row padding>
          <strong>Evangelho (Jo 21,1-14)</strong>
          — O Senhor esteja convosco.
          
          — Ele está no meio de nós.
          
          — Proclamação do Evangelho de Jesus Cristo + segundo João.
          
          — Glória a vós, Senhor.
          
          Naquele tempo, 1Jesus apareceu de novo aos discípulos, à beira do mar de Tiberíades. A aparição foi assim: 2Estavam juntos Simão Pedro, Tomé, chamado Dídimo, Natanael de Caná da Galileia, os filhos de Zebedeu e outros dois discípulos de Jesus.
          
          3Simão Pedro disse a eles: “Eu vou pescar”. Eles disseram: “Também vamos contigo”. Saíram e entraram na barca, mas não pescaram nada naquela noite. 4Já tinha amanhecido, e Jesus estava de pé na margem. Mas os discípulos não sabiam que era Jesus. 5Então Jesus disse: “Moços, tendes alguma coisa para comer?” Responderam: “Não”.
          
          6Jesus disse-lhes: “Lançai a rede à direita da barca, e achareis”. Lançaram pois a rede e não conseguiam puxá-la para fora, por causa da quantidade de peixes. 7Então, o discípulo a quem Jesus amava disse a Pedro: “É o Senhor!” Simão Pedro, ouvindo dizer que era o Senhor, vestiu sua roupa, pois estava nu, e atirou-se ao mar. 8Os outros discípulos vieram com a barca, arrastando a rede com os peixes. Na verdade, não estavam longe da terra, mas somente a cerca de cem metros. 9Logo que pisaram a terra, viram brasas acesas, com peixe em cima, e pão. 10Jesus disse-lhes: “Trazei alguns dos peixes que apanhastes”.
          
          11Então Simão Pedro subiu ao barco e arrastou a rede para a terra. Estava cheia de cento e cinquenta e três grandes peixes; e, apesar de tantos peixes, a rede não se rompeu. 12Jesus disse-lhes: “Vinde comer”. Nenhum dos discípulos se atrevia a perguntar quem era ele, pois sabiam que era o Senhor. 13Jesus aproximou-se, tomou o pão e distribuiu-o por eles. E fez a mesma coisa com o peixe. 14Esta foi a terceira vez que Jesus, ressuscitado dos mortos, apareceu aos discípulos.
          
          — Palavra da Salvação.
          
          — Glória a vós, Senhor.
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <section class="message-container">
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-content>
            <h2 padding><strong>Santo do dia</strong></h2>
            <h3 padding>São Pascásio, nasceu para ser escritor</h3>
            <div padding>
              São Pascásio, foi um célebre professor, que deu celebridade às escolas de Corbie
              Pascásio Radbert foi personagem considerável no seu tempo. Os historiadores da Teologia continuam a mencionar a teoria que ele imaginou para “esclarecer” o mistério da presença de Jesus no Santíssimo Sacramento. Como diplomata, viajou muito entre 822 e 834, para solucionar questões da Igreja e tentar apaziguar os conflitos que punham em campo os sucessores de Carlos Magno.
              
              Era um enjeitado exposto no pórtico de Nossa Senhora de Soissons no fim do século VIII. A abadessa Teodarda, prima direita de Carlos Magno, recolheu-o e educou-o da melhor maneira que pôde. Sempre ele se referiu à sua mãe adotiva com reconhecimento e veneração; apesar disso, deixou-a algum tempo para se lançar em aventuras.
              
              Converteu-se aos 22 anos, e foi então Adelardo, irmão de Teodarda, abade de Corbie, que o recebeu entre os seus monges. Veio a ser um célebre professor, que deu celebridade às escolas de Corbie.
              
              Em 844, os seus colegas de elegeram-no como abade mas, sete anos mais tarde, fizeram uma espécie de revolução que o obrigou a refugiar-se noutra abadia. Não se afligiu. Nascera para ser escritor, e tinha várias obras em preparação: “Que felicidade, dizia, ser lançado nos braços da filosofia e da sabedoria, e poder de novo beber no meu outono o leite das Sagradas Escrituras, que alimentou a minha juventude!”
              
              Mas afinal os monges de Corbie acabaram por o chamar; voltou a viver com eles como simples religioso, edificando-os com os exemplos e continuando a escrever. Aí morreu a 26 de abril de 865.
              
              São Pascásio, rogai por nós!
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
      <ion-col>
        <ion-card>
          <ion-card-content>
            <h3 padding>
              <strong>
                Minhas Anotações:
              </strong>
            </h3>
            <div padding>
              Essa linda passagem bíblica dos discípulos de Emaús é uma verdadeira catequese pascal para cada um de nós. Os discípulos estavam descrentes, desanimados, vivendo um desalento. E mesmo sabendo, porque ouviram falar que Jesus havia ressuscitado, não tinham convicção.

              Esses dois discípulos representam cada um de nós que caminha em meio aos desalentos, às incertezas, aos medos, aos temores e receios. Somos nós que trabalhamos na igreja, que vamos à Missa, mas não fomos impactados, não criamos a convicção profunda em nós da experiência com Jesus ressuscitado.
              
              Assim como Jesus caminhou com esses dois discípulos, Ele também caminha conosco, apesar de O ignorarmos, não O reconhecermos, Ele está ao nosso lado, Ele está à nossa frente, Ele está atrás de nós.
              
              Quando chego na igreja para procurar Jesus, Ele já está lá me esperando. Quando me levanto a cada manhã para rezar e colocar-me diante da Sua presença, Ele já estava velando o meu sono. Quando penso em fazer as minhas orações, Ele já está há muito tempo me esperando. Quando caminho nas estradas da vida, dirigindo para lá e para cá, Ele caminha comigo.
              
              Façamos uma experiência com o Ressuscitado por meio da Sua Palavra, mergulhemos nas Sagradas Escrituras
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </section>

  <ng-template #customCellTemplate let-day="day" let-locale="locale">
    <div class="cal-cell-top">
      <span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{ day.badgeTotal }}</span>
      <span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
    </div>
    <span class="period-type" *ngFor="let item of day.periodTypes">
      <span [innerHTML]="item.symbol"></span>{{item.name}}
    </span>
  </ng-template>
</ion-content>
